视音频技术学习摘录
源自于：https://blog.csdn.net/leixiaohua1020/article/details/18893769


视音频技术理论

生活中的视音频技术：
多种多样的视频文件格式：.avi、.rmvb、.mp4、.flv、.mkv等（这些格式代表的是封装格式）
	
注：有些封装格式支持的视音频编码标准十分广泛，应该算比较优秀的封装格式，比如mkv；
而有些封装格式支持的视音频编码标准很少，应该属于落后的封装格式，比如RMVB。
rmvb格式扩展：rmvb格式的文件头包含四个字节的".RMF"，对应十六进制是2E 52 4D 46，这个文件头和标准的RealMedia格式相同。

1、视频播放器原理
视音频技术主要包含：封装技术，视频压缩编码技术以及音频压缩编码技术。考虑到网络传输时，还包括流媒体协议技术。
视频播放器播放一个互联网上的视频文件，需要：解协议，解封装，解码视音频，视音频同步。如果播放本地文件则不需要解协议。
解协议：
	就是将流媒体协议的数据，解析为标准的相应封装格式数据。视音频在网络上传播时，常常采用各种流媒体协议，
	常见的流媒体协议如HTTP、RTMP、MMS、RTSP等。
	这些协议在传输视音频数据的同时，也会传输一些信令数据（这些信令数据包括对播放的控制或者对网络状态的描述等）。
	解协议过程中会去掉信令数据保留视音频数据。
	例如，采用RTMP协议传输的数据，经过解协议操作后，输出flv格式的数据。
	
解封装：
	将输入封装格式的数据分离成为音频流压缩编码数据和视频流压缩编码数据。
	封装格式就是将已经压缩编码的视频数据和音频数据按照一定的格式放到一起。
	例如，flv格式的数据，经过解封装之后，输出h.264编码的视频流和AAC编码的音频码流。
	
解码：
	将视频/音频压缩编码数据，解码为非压缩的视频/音频原始数据。
	音频压缩编码标准包含AAC、MP3、AC-3等，视频压缩编码标准包含H.264、MPEG2、VC-1等。
	通过解码，压缩编码的视频数据输出为非压缩原始的颜色数据（如YUV420P，RGB等）;
	压缩编码的音频数据输出为非压缩的音频抽样数据（如PCM数据）。
	
视音频同步：
	根据解封装模块处理过程中获取的参数信息，同步解码出来的视频和音频数据，并将视频音频数据送至系统的显卡和声卡播放出来。
	
2、流媒体协议
rtsp/rtp  
rtmp
rtmfp
mms
http

rtsp/rtp常用于IPTV领域。因为其采用UDP传输视音频，支持组播，效率较高。缺点是网络不好的情况下可能会对丢包，影响视频观看质量。
因为互联网网络环境的不稳定性，rtsp/rtp较少用于互联网视音频传输。
互联网视频服务通常采用TCP作为其流媒体的传输层协议，因此像RTMP，MMS，HTTP这类协议广泛用于互联网视音频服务之中。
这类协议不会发生丢包，因而保证了视频的质量，但是传输效率会相对较低。
RTMFP是一种比较新的流媒体协议，特点是支持P2P。

3、封装格式
AVI
流媒体：不支持
支持的视频编码：几乎所有格式
支持的音频编码：几乎所有格式
目前使用领域：BT下载影视

MP4
流媒体：支持
支持的视频编码：MPEG-2，MPEG-4，H.264，H.263等
支持的音频编码：AAC，MPEG-1 Layers I,II,III，AC-3等
目前使用领域：互联网视频网站

TS
流媒体：支持
支持的视频编码：MPEG-1，MPEG-2，MPEG-4，H.264
支持的音频编码：MPEG-1 Layers I,II,III，AAC
目前使用领域：IPTV，数字电视

FLV
流媒体：支持
支持的视频编码：Sorenson，VP6，H.264
支持的音频编码：MP3，ADPCM，Linear PCM，AAC等
目前使用的领域：互联网视频网站

MKV
流媒体：支持
支持的视频编码：几乎所有格式
支持的音频编码：几乎所有格式
目前使用的领域：互联网视频网站

RMVB
流媒体：支持
支持的视频格式：RealVideo 8,9,10
支持的音频编码：AAC，Cook Codec，RealAudio Lossless
目前使用领域：BT下载影视

4、视频编码
主要视频编码：HEVC（H.265）、H.264、MPEG4、VP9、VP8、VC-1

5、音频编码
主要音频编码：AAC、AC-3、MP3、WMA













	
	